import{h as y,j as n,k as l,l as u,m as e,p as _,v as B,q as k,D as g,F as h,x as f,y as r,r as M,o as C,u as v,I as $,E as S}from"./index-Cxdx-ytl.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A=y({name:"ModalNewOrganization",props:{isShown:Boolean,closeModal:Function,id:String},data(){return{token:"",text:""}},methods:{async addBot(){f.createOrganizationBots(this.id,this.token).then(t=>{console.log(t),f.getOrganizationBots(this.id).then(o=>{r.data.bots=o}),r.data.canAddBots=!1,this.closeModal()}).catch(t=>{this.text="",this.text=t})}}}),N={key:1,class:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50"},V={class:"relative p-4 w-full max-w-md max-h-full top-0 right-0 left-0 z-50"},j={class:"relative bg-white rounded-lg shadow dark:bg-gray-700 min-w-80"},O={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},D=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Добавить бота",-1),F=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),q=e("span",{class:"sr-only"},"Close modal",-1),E=[F,q],I=["onsubmit"],T={class:"grid gap-4 mb-4 grid-cols-2"},H={class:"col-span-2"},L=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Токен",-1),U=e("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1);function G(t,o,m,b,p,c){return n(),l(h,null,[t.isShown?(n(),l("div",{key:0,onClick:o[0]||(o[0]=(...s)=>t.closeModal&&t.closeModal(...s)),class:"top-0 left-0 h-screen w-screen bg-gray-900 fixed opacity-20 z-40"})):u("",!0),t.isShown?(n(),l("div",N,[e("div",V,[e("div",j,[e("div",O,[D,e("button",{onClick:o[1]||(o[1]=(...s)=>t.closeModal&&t.closeModal(...s)),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal"},E)]),e("form",{onsubmit:s=>s.preventDefault(),class:"p-4 md:p-5"},[e("div",T,[e("div",H,[L,_(e("input",{type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Токен телеграм бота",required:"","onUpdate:modelValue":o[2]||(o[2]=s=>t.token=s)},null,512),[[B,t.token]])]),k(" "+g(t.text),1)]),e("button",{onClick:o[3]||(o[3]=(...s)=>t.addBot&&t.addBot(...s)),type:"submit",class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[U,k(" Добавить бота ")])],8,I)])])])):u("",!0)],64)}const J=z(A,[["render",G]]),K={class:"flex px-4 mt-20"},P={class:""},Q={class:"flex justify-evenly flex-wrap"},R={class:"flex items-center"},W={class:"mb-2 text-2xl font-bold truncate tracking-tight text-gray-900 dark:text-white"},X={class:"truncate max-w-60 w-auto dark:text-neutral-200"},ee={__name:"SocialNetworks",props:{id:{type:String,default:"1"}},setup(t){const o=M();function m(a){const d=a.indexOf(":");if(d===-1)return a;const i=a.substring(0,d+1),w=a.substring(d+1).replace(/./g,"*");return i+w}function b(){o.value?o.value=!1:o.value=!0}function p(){o.value=!1}const c=t;function s(){}return C(()=>{f.getOrganizationBots(c.id).then(a=>{r.data.bots=a,console.log(r.data.bots.length===0),r.data.bots.length===0&&(r.data.canAddBots=!0)})}),(a,d)=>(n(),l(h,null,[e("div",K,[e("div",P,[v(r).data.canAddBots?(n(),l("button",{key:0,onClick:b,class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Добавить телеграм бота ")):u("",!0),e("div",Q,[(n(!0),l(h,null,$(v(r).data.bots,(i,x)=>(n(),l("div",{key:x,class:"mt-4 p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},[e("div",R,[e("h5",W," Телеграм бот "+g(i.bot_id),1),e("button",{onClick:s,class:"ml-4 mb-2 p-1 text-red-600 bg-red-100 hover:bg-red-200 rounded-md font-medium flex"}," Удалить ")]),e("p",X,g(m(i.bot_token)),1)]))),128))])])]),S(J,{isShown:o.value,closeModal:p,id:c.id},null,8,["isShown","id"])],64))}};export{ee as default};
