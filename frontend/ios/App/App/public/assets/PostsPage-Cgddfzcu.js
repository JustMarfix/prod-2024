import{h as S,j as r,k as a,l as m,m as o,D as h,q as C,p as w,v,F as p,I as f,y as n,x as i,J as A,e as I,o as D,u as _,G as M,C as V}from"./index-Cxdx-ytl.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as $}from"./statusesConverter-D18FyVg_.js";const E=S({name:"ModalPost",props:{isShown:Boolean,closeModal:Function,content:Object,creation:Boolean,id:String,post_id:Number,channels:Object,tags:Array},data(){var t;return{text:"",areaContent:"",commentContent:"",time:"",date:"",mystore:null,canEdit:!1,mychannels:this.$props.channels,myId:[],passId:[],newComment:"",showCommentArea:!1,tag:"",tags:JSON.parse(JSON.stringify((t=this.$props)==null?void 0:t.tags)||"[]")||[],newAddedPostId:""}},computed:{buttonText(){return console.log(this.content.is_approved),this.content.is_approved==="APPROVED"?"В редактирование":this.creation?"Создать пост":"Сохранить пост"}},beforeMount(){var t,s;this.text="",this.mystore=n,this.avId=this.channels.map(u=>u.id),this.passId=(s=(t=this.content)==null?void 0:t.channels)==null?void 0:s.map(u=>u.id)},methods:{isChecked(t){return this.avId.find(s=>s!==t)},onTagAdd(){!this.tag||this.tags.includes(this.tag)||(this.tags.push(this.tag),this.tag="")},deleteTag(t){this.tags=[...this.tags].filter(s=>t!==s)},isChecked2(t){return this.passId.find(s=>s===t)},async addPost(){if(this.creation)i.addPost(this.id,this.areaContent,{channels:this.myId}).then(t=>{console.log(t.post),i.addTagsToPost(this.id,t.post.id,this.tags).then(()=>{const s=[...n.data.posts],u=n.data.posts.indexOf(({post_id:b})=>b===this.post_id);s[u]={...s[u],tags:this.tags},n.data.posts=s}),i.getPosts(this.id).then(s=>{n.data.posts=s}),this.closeModal(),this.myId=[],this.mychannels=[...this.$props.channels]}).catch(t=>{this.text=t});else{await i.addTagsToPost(this.id,this.post_id,this.tags).then(()=>{const s=[...n.data.posts],u=n.data.posts.indexOf(({post_id:b})=>b===this.post_id);s[u]={...s[u],tags:this.tags},n.data.posts=s});let t=this.areaContent===""?this.content.content:this.areaContent;i.patchPost(this.id,this.post_id,{content:t,is_approved:this.content.is_approved,channels:this.myId}).then(()=>{i.getPosts(this.id).then(s=>{n.data.posts=s}),this.myId=[]}),this.closeModal()}},schedulePost(){i.schedulePost(this.id,this.convertToISODateTime(this.date,this.time),this.post_id).then(()=>{i.getPosts(this.id).then(t=>{n.data.posts=t}),this.closeModal()})},convertToISODateTime(t,s){const u=`${t}T${s}:00`;return new Date(u).toISOString()},sendToReview(){i.patchPost(this.id,this.post_id,{is_approved:"WAITING"}).then(()=>{i.getPosts(this.id).then(t=>{n.data.posts=t})}),this.closeModal()},approvePost(){i.patchPost(this.id,this.post_id,{is_approved:"APPROVED",comment:this.newComment,channels:this.myId}).then(()=>{i.getPosts(this.id).then(t=>{n.data.posts=t})}),this.closeModal()},rejectPost(){this.showCommentArea?(i.patchPost(this.id,this.post_id,{is_approved:"REJECTED",comment:this.newComment,channels:this.myId}).then(()=>{i.getPosts(this.id).then(t=>{n.data.posts=t})}),this.closeModal()):this.showCommentArea=!0},deletePost(){i.deletePosts(this.id,this.post_id).then(()=>{i.getPosts(this.id).then(t=>{n.data.posts=t}),this.closeModal()}).catch(t=>{i.getPosts(this.id).then(s=>{n.data.posts=s}),this.text=t})}}}),R={key:1,class:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50"},N={class:"relative p-4 w-full max-w-lg max-h-full top-0 right-0 left-0 z-50"},B={class:"relative bg-white rounded-lg shadow dark:bg-gray-700 md:min-w-[600px] w-72"},z={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},G=o("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Пост",-1),H={class:"flex"},F=o("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[o("path",{stroke:"rgb(220 38 38)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})],-1),W=[F],Z=o("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[o("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),J=o("span",{class:"sr-only"},"Close modal",-1),q=[Z,J],L=["onsubmit"],U={class:"grid gap-4 mb-4 grid-cols-1"},Y={class:"col-span-2 max-w-full"},K={key:0,class:"mb-2 focus:outline-0"},Q={class:"bg-red-100 resize-none focus:outline-0 outline-0 focus:shadow-outline border-0 border-gray-200 text-red-600 text-sm rounded-md block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white"},X=o("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Содержание",-1),j=["readonly","value"],ee=["onsubmit"],te=o("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[o("path",{stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1),se=[te],oe=o("br",null,null,-1),re={class:"flex grid-2 overflow-scroll max-w-full"},ae={class:"inline-flex items-center px-2 py-1 me-2 text-sm font-medium text-blue-800 bg-blue-100 rounded dark:bg-blue-900 dark:text-blue-300"},ne=["onClick"],ie=o("svg",{class:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[o("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),de=o("span",{class:"sr-only"},"Remove badge",-1),le=[ie,de],ue={key:0,class:"col-span-2"},he=o("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Запланировать ",-1),me={class:"flex gap-2"},ce={class:"relative max-w-sm"},ge=o("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},[o("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),pe=["disabled"],be={class:"relative"},fe=o("div",{class:"absolute inset-y-0 end-0 top-0 flex items-center pe-3.5 pointer-events-none"},[o("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{"fill-rule":"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4a1 1 0 1 0-2 0v4a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414L13 11.586V8Z","clip-rule":"evenodd"})])],-1),ye=["disabled"],ke={key:0},xe=o("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Каналы",-1),we=["id","onchange"],ve=["for"],_e={key:1},Pe=o("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Каналы ",-1),Ce=["id","onchange","disabled","checked"],Te=["for"],Ie={class:"flex justify-between gap-2 flex-wrap"},Me=o("svg",{class:"me-1 -ms-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),$e={key:3,class:"flex md:mt-0 mt-4"},Se={key:2},Ae=o("label",{for:"name",class:"block my-2 text-sm font-medium text-gray-900 dark:text-white"},"Оставьте комментарий",-1),De=["readonly"];function Ve(t,s,u,b,P,T){var y;return r(),a(p,null,[t.isShown?(r(),a("div",{key:0,onClick:s[0]||(s[0]=(...e)=>t.closeModal&&t.closeModal(...e)),class:"top-0 left-0 h-screen w-screen bg-gray-900 fixed opacity-20 z-40"})):m("",!0),t.isShown?(r(),a("div",R,[o("div",N,[o("div",B,[o("div",z,[G,o("div",H,[this.mystore.auth.permissions.some(e=>e.name==="admin"||e.name==="owner")&&!this.creation?(r(),a("button",{key:0,onClick:s[1]||(s[1]=(...e)=>t.deletePost&&t.deletePost(...e)),class:"mb-2 z-40 mr-4 bg-red-100 p-[4px] px-2 hover:bg-red-200 rounded-lg flex text-red-600"},W)):m("",!0),o("div",null,[o("button",{onClick:s[2]||(s[2]=(...e)=>this.$props.closeModal&&this.$props.closeModal(...e)),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},q)])])]),o("form",{onsubmit:e=>e.preventDefault(),class:"p-4 md:p-5"},[o("div",U,[o("div",Y,[this.content.is_approved==="REJECTED"?(r(),a("div",K,[o("div",Q,h(t.content.comment),1)])):m("",!0),X,o("textarea",{readonly:!t.mystore.auth.permissions.some(e=>e.name==="editor"||e.name==="admin"||e.name==="owner")||this.content.is_approved==="APPROVED",type:"text",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Содержание поста",required:"",value:t.content.content,onInput:s[3]||(s[3]=e=>t.areaContent=e.target.value)},null,40,j),C(" "+h(t.text),1)]),o("form",{class:"flex gap-2",onsubmit:e=>{e.preventDefault(),t.onTagAdd()}},[w(o("input",{type:"text",name:"name",class:"bg-gray-50 flex-1 w-full border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Тэг","onUpdate:modelValue":s[4]||(s[4]=e=>this.tag=e)},null,512),[[v,this.tag]]),o("button",{onClick:s[5]||(s[5]=(...e)=>t.onTagAdd&&t.onTagAdd(...e)),class:"flex items-center justify-between text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-2 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"},se)],8,ee),oe,o("div",re,[(r(!0),a(p,null,f(this.tags,e=>(r(),a("span",ae,[C(h(e)+" ",1),o("button",{type:"button",class:"inline-flex items-center p-1 ms-2 text-sm text-blue-400 bg-transparent rounded-sm hover:bg-blue-200 hover:text-blue-900 dark:hover:bg-blue-800 dark:hover:text-blue-300","data-dismiss-target":"#badge-dismiss-default","aria-label":"Remove",onClick:()=>t.deleteTag(e)},le,8,ne)]))),256))]),!this.creation&&this.content.is_approved==="APPROVED"&&this.content.sent_status!=="WAITING"?(r(),a("div",ue,[he,o("div",me,[o("div",ce,[ge,w(o("input",{datepicker:"",type:"date",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date","onUpdate:modelValue":s[6]||(s[6]=e=>t.date=e),disabled:!t.mystore.auth.permissions.some(e=>e.name==="reviewer"||e.name==="admin"||e.name==="owner")},null,8,pe),[[v,t.date]])]),o("div",be,[fe,w(o("input",{type:"time",id:"time",class:"bg-gray-50 border leading-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:"00:00",required:"","onUpdate:modelValue":s[7]||(s[7]=e=>t.time=e),disabled:!t.mystore.auth.permissions.some(e=>e.name==="reviewer"||e.name==="admin"||e.name==="owner")},null,8,ye),[[v,t.time]])])])])):m("",!0)]),this.creation?(r(),a("div",ke,[xe,(r(!0),a(p,null,f(t.channels,e=>(r(),a("div",{key:e.id,class:"flex items-center mb-4"},[o("input",{id:e.id,type:"checkbox",onchange:c=>{c.target.checked?this.myId=[...this.myId,e.id]:this.myId=this.avId.filter(l=>l!==(e==null?void 0:e.id))},checked:!1,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,we),o("label",{for:e.id,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},h(e.name),9,ve)]))),128))])):(r(),a("div",_e,[Pe,(r(!0),a(p,null,f(t.channels,e=>(r(),a("div",{key:e.id,class:"flex items-center mb-4"},[o("input",{id:e,type:"checkbox",onchange:c=>{c.target.checked?this.myId=[...this.myId,e.id]:this.myId=this.passId.filter(l=>l!==(e==null?void 0:e.id))},disabled:this.content.sent_status==="WAITING"||this.content.is_approved==="APPROVED"||!this.mystore.auth.permissions.some(c=>c.name==="admin"||c.name==="editor"||c.name==="owner"),checked:t.isChecked2(e.id),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Ce),o("label",{for:e.id,class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},h(e.name),9,Te)]))),128))])),o("div",Ie,[this.content.sent_status!=="WAITING"&&this.content.is_approved!=="APPROVED"&&this.mystore.auth.permissions.some(e=>e.name==="editor"||e.name==="owner"||e.name==="admin")?(r(),a("button",{key:0,onClick:s[8]||(s[8]=(...e)=>t.addPost&&t.addPost(...e)),type:"submit",class:"text-white mr-2 mb-2 inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[Me,C(" "+h(t.buttonText),1)])):m("",!0),!this.creation&&this.content.is_approved==="APPROVED"&&this.content.sent_status!=="WAITING"&&this.mystore.auth.permissions.some(e=>e.name==="reviewer"||e.name==="admin"||e.name==="owner")&&((y=this.channels)==null?void 0:y.length)>0?(r(),a("button",{key:1,onClick:s[9]||(s[9]=(...e)=>t.schedulePost&&t.schedulePost(...e)),type:"submit",class:"text-white inline-flex mb-2 items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Запланировать ")):m("",!0),!this.creation&&this.content.is_approved==="OPEN"&&t.mystore.auth.permissions.some(e=>e.name==="editor"||e.name==="admin"||e.name==="owner")?(r(),a("button",{key:2,onClick:s[10]||(s[10]=(...e)=>t.sendToReview&&t.sendToReview(...e)),class:"text-white inline-flex mb-2 items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Отправить на одобрение ")):m("",!0),!this.creation&&this.content.is_approved==="WAITING"&&t.mystore.auth.permissions.some(e=>e.name==="reviewer"||e.name==="admin"||e.name==="owner")?(r(),a("div",$e,[o("button",{onClick:s[11]||(s[11]=(...e)=>t.approvePost&&t.approvePost(...e)),class:"text-white mr-2 mb-2 inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Одобрить "),o("button",{onClick:s[12]||(s[12]=(...e)=>t.rejectPost&&t.rejectPost(...e)),class:"text-white inline-flex mb-2 items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Отклонить ")])):m("",!0)]),this.content.is_approved==="WAITING"&&this.showCommentArea?(r(),a("div",Se,[Ae,w(o("textarea",{readonly:!t.mystore.auth.permissions.some(e=>e.name==="reviewer"||e.name==="admin"||e.name==="owner")||this.content.is_approved==="APPROVED",type:"text",name:"comment",id:"comment",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Комментарий проверяющего",required:"","onUpdate:modelValue":s[13]||(s[13]=e=>t.newComment=e)},null,8,De),[[v,t.newComment]])])):m("",!0)],8,L)])])])):m("",!0)],64)}const Oe=O(E,[["render",Ve]]),Ee={class:"flex flex-col w-full h-screen overflow-x-hidden"},Re={class:"w-full px-4 mt-16"},Ne={class:"overflow-x-hidden"},Be={class:"flex py-4 overflow-scroll"},ze=["onClick"],Ge={class:"grid max-h-80 sm:grid-cols-2 gap-2 w-full mb-4"},He=["onClick"],Fe={class:"flex flex-col h-full"},We={class:"mb-2 text-lg font-bold text-gray-500 dark:text-gray-400"},Ze={class:"flex items-center justify-between"},Je={class:"mb-2 mr-2 text-lg text-left font-bold text-wrap max-w-md truncate tracking-tight text-gray-900 dark:text-white"},qe={class:"flex"},Le={class:"text-wrap text-left mb-2 dark:text-white"},Ue={class:"flex gap-1 mt-auto"},Ye={class:"flex gap-1 mt-1 flex-wrap"},Ke={class:"p-2 bg-blue-100 dark:bg-blue-400 rounded-md"},Qe={class:"p-2 bg-blue-100 dark:bg-blue-400 rounded-md"},Xe={class:"flex mt-2 ml-1 gap-1 max-w-full overflow-scroll"},st={__name:"PostsPage",props:{id:{type:String}},setup(t){const s=A({isShowModal:!1,targetPost:{},creation:!1,targetTag:"all"}),u=I(()=>[...new Set(n.data.posts.map(({tags:l})=>l).flat(2))]),b=I(()=>s.targetTag==="all"?n.data.posts:n.data.posts.filter(l=>l.tags.includes(s.targetTag)));function P(l){s.targetPost=n.data.posts[l],s.isShowModal=!0}function T(){s.targetPost={},s.isShowModal=!0,s.creation=!0}D(()=>{i.getPosts(e.id).then(l=>{n.data.posts=l,s.targetPost={}})});function y(){s.isShowModal=!1,s.creation=!1}const e=t,c=l=>{if(!l)return"";const k=new Date(l),d=new Date().getTimezoneOffset(),g=new Date(k.getTime()-d*6e4);return"Запланирован "+`${String(g.getDate()).padStart(2,"0")}.${String(g.getMonth()+1).padStart(2,"0")}.${g.getFullYear()} ${String(g.getHours()).padStart(2,"0")}:${String(g.getMinutes()).padStart(2,"0")}`};return(l,k)=>(r(),a(p,null,[o("div",Ee,[o("div",Re,[_(n).auth.permissions.some(d=>d.name==="editor"||d.name==="admin"||d.name==="owner")?(r(),a("button",{key:0,onClick:T,class:"block text-white mb-4 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Добавить пост ")):m("",!0),o("div",Ne,[o("div",Be,[o("button",{onClick:k[0]||(k[0]=()=>s.targetTag="all"),type:"button",class:M([{"ml-1 ring-4 outline-none ring-blue-300 dark:ring-blue-800":s.targetTag==="all"},"text-blue-700 hover:text-white border border-blue-600 bg-white hover:bg-blue-700 rounded-full text-base font-medium px-4 text-center me-3 mb-3 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:bg-gray-900"])}," Все ",2),(r(!0),a(p,null,f(u.value,d=>(r(),a("button",{type:"button",key:d,onClick:()=>s.targetTag=d,class:M([{"ring-4 outline-none ring-blue-300 dark:ring-gray-800":s.targetTag===d},"text-gray-900 border border-white hover:border-gray-200 dark:border-gray-900 dark:bg-gray-900 dark:hover:border-gray-700 bg-white rounded-full text-base font-medium px-5 py-2.5 text-center me-3 mb-3 dark:text-white"])},h(d),11,ze))),128))])]),o("div",Ge,[(r(!0),a(p,null,f(b.value,(d,g)=>(r(),a("button",{key:g,onClick:x=>P(g),class:"p-6 bg-white border cursor-pointer focus:bg-neutral-100 hover:bg-neutral-100 dark:focus:bg-gray-700 dark:hover:bg-gray-700 border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 max-w-full"},[o("section",Fe,[o("h3",We,"#"+h(d.id),1),o("div",Ze,[o("h5",Je,h(d.content),1)]),o("div",qe,[o("p",Le,h(c(d.planned_time)),1)]),o("div",Ue,[o("div",Ye,[o("div",Ke,h(_($)(d.is_approved)),1),o("div",Qe,h(_($)(d.sent_status)),1)])]),o("div",Xe,[(r(!0),a(p,null,f(d.tags,x=>(r(),a("span",{class:"inline-flex items-center px-2 py-1 text-sm font-medium text-blue-800 bg-blue-200 rounded dark:bg-blue-900 dark:text-blue-600",key:x},h(x),1))),128))])])],8,He))),128))])])]),s.isShowModal?(r(),V(Oe,{key:0,isShown:s.isShowModal,closeModal:y,content:s.targetPost,creation:s.creation,id:e.id,post_id:s.targetPost.id,channels:_(n).data.channels,tags:s.targetPost.tags},null,8,["isShown","content","creation","id","post_id","channels","tags"])):m("",!0)],64))}};export{st as default};
